<ng-container *ngIf="step === 'create'">
  <header>
    <h1>Create Account</h1>
    <p>Sign up to create your account</p>
  </header>      
  <section>
    <form [formGroup]="registerForm" (ngSubmit)="create()">
      <div class="form-control">
        <label for="alias">Alias</label>
        <input type="text" name="alias" id="alias" placeholder="John Doe" formControlName="alias" tabindex="1" />
      </div>
      <div class="form-control">
        <label for="password">Password</label>
        <input type="text" name="password" id="password" placeholder="Your Password" formControlName="password" tabindex="2" />
      </div>
      <div class="flex justify-end items-center">
        <div class="form-control">
          <button variant="cta" size="large" type="submit" (click)="create()" [disabled]="!registerForm.valid">Create</button>
        </div>
      </div>
    </form>
  </section>
  <footer>
    <div>
      <span>Already have an account? <a routerLink="/identity/authorize">Sign in</a>.</span>
    </div>
    <div>
      <a href="#" class="info">Security information</a>
    </div>
  </footer>
</ng-container>
<ng-container *ngIf="step === 'confirm'">
  <header>
    <h1>Security Kit</h1>
    <p>If you get locked out of your account, you'll need these account details to sign in including your <strong>Secret Key</strong>, which we <strong>cannot</strong> access or recover for you. </p>
  </header> 
  <section>
    <form [formGroup]="confirmForm" (ngSubmit)="confirm()">
    <div class="form-control">
      <label for="alias">Alias</label>
      <input type="text" name="alias" id="alias" formControlName="alias" />
    </div>
    <div class="form-control">
      <label for="password">Password</label>
      <input type="text" name="password" id="password" formControlName="password" />
    </div>
    <div class="form-control">
      <label for="secret">Secret Key</label>
      <input type="text" name="secret" id="secret" formControlName="secret" />
    </div>
    <div class="mt-12">
      <div class="flex flex-row">
        <div class="basis-1/2 text-black pr-2">
          <h2 class="font-bold mb-2">Quick Recovery</h2>
          <p class="text-xs">Quickly recover your account credentials by scanning the key with your client device.</p>
        </div>
        <div class="flex basis-1/2 pl-2 justify-end">
          <qr-code [value]="qrcode" size="150" errorCorrectionLevel="M"></qr-code>
        </div>
      </div>
      <div class="flex flex-row justify-center items-center gap-4 my-6 no-print print:hidden">
        <button variant="secondary" outline size="large" type="button" (click)="print()">Print</button>
        <button variant="cta" size="large" type="submit">Confirm</button>
      </div>
    </div>
  </form>
</section>
</ng-container>
<ng-container *ngIf="step === 'user'">
  <header>
    <h1>Create User</h1>
    <p>Create your first user identity</p>
  </header>
  <section>
    <form [formGroup]="userForm" (ngSubmit)="createUser()">
      <div class="form-control">
        <label for="name">Name</label>
        <input type="text" name="name" id="name" placeholder="John Doe" formControlName="name" tabindex="1" />
      </div>
      <div class="flex justify-end items-center">
        <div class="form-control">
          <button variant="cta" size="large" type="submit">Create user</button>
        </div>
      </div>
    </form>
  </section>
</ng-container>
